<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Rifa</title>
</head>

<body>

<h2>ğŸ“Š Panel Administrador</h2>

<table border="1">
<thead>
<tr>
<th>Nombre</th>
<th>TelÃ©fono</th>
<th>NÃºmero</th>
<th>Eliminar</th>
</tr>
</thead>

<tbody id="lista"></tbody>
</table>

<script type="module">

import { initializeApp }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";

import {
getFirestore,
collection,
onSnapshot,
deleteDoc,
doc
}
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
apiKey: "AIzaSyCqVZwBX96EHfl3k__iqyc7rF1MZmSVpRI",
authDomain: "rifa-web-2b2f3.firebaseapp.com",
projectId: "rifa-web-2b2f3",
storageBucket: "rifa-web-2b2f3.firebasestorage.app",
messagingSenderId: "440243321091",
appId: "1:440243321091:web:3a6a0a27e4e418cf6b9136"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const tabla=document.getElementById("lista");

onSnapshot(collection(db,"participantes"),snap=>{

tabla.innerHTML="";

snap.forEach(d=>{

const data=d.data();

tabla.innerHTML+=`
<tr>
<td>${data.nombre}</td>
<td>${data.telefono}</td>
<td>${data.numero}</td>
<td>
<button onclick="eliminar('${d.id}')">
âŒ
</button>
</td>
</tr>
`;

});

});

window.eliminar=async(id)=>{
await deleteDoc(doc(db,"participantes",id));
};

</script>

</body>
</html>
