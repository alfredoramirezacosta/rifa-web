<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Panel Administrador - Rifa</title>

<style>
body{
    font-family: Arial;
    text-align:center;
    background:#f4f4f4;
}

input,button{
    padding:10px;
    margin:5px;
    font-size:16px;
}

table{
    margin:auto;
    border-collapse:collapse;
    background:white;
}

th,td{
    padding:10px;
    border:1px solid #ccc;
}

th{
    background:#2c3e50;
    color:white;
}
</style>

</head>

<body>

<h2>üîê Acceso Administrador</h2>

<input type="password" id="clave" placeholder="Contrase√±a">
<button onclick="login()">Entrar</button>

<br><br>

<div id="panel" style="display:none;">

<h1>‚úÖ Panel Administrador</h1>
<p>Participantes registrados</p>

<table>
<thead>
<tr>
<th>Nombre</th>
<th>Tel√©fono</th>
<th>N√∫mero</th>
</tr>
</thead>

<tbody id="lista"></tbody>

</table>

</div>


<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>

const firebaseConfig = {
  apiKey: "AIzaSyCqVZwBX96EHfl3k__iqyc7rF1MZmSVpRI",
  authDomain: "rifa-web-2b2f3.firebaseapp.com",
  projectId: "rifa-web-2b2f3",
  storageBucket: "rifa-web-2b2f3.firebasestorage.app",
  messagingSenderId: "440243321091",
  appId: "1:440243321091:web:3a6a0a27e4e418cf6b9136"
};

// ‚úÖ Inicializar Firebase
firebase.initializeApp(firebaseConfig);

// ‚úÖ Base de datos
const db = firebase.firestore();


// ======================
// LOGIN ADMIN
// ======================
function login(){

 let clave = document.getElementById("clave").value;

 if(clave === "rifa2026"){

     document.getElementById("panel").style.display="block";
     cargarParticipantes();

 }else{
     alert("‚ùå Contrase√±a incorrecta");
 }

}


// ======================
// CARGAR PARTICIPANTES
// ======================
function cargarParticipantes(){

 db.collection("participantes")
 .orderBy("numero")
 .onSnapshot((snapshot)=>{

   let tabla = document.getElementById("lista");
   tabla.innerHTML="";

   snapshot.forEach(doc=>{

     let data = doc.data();

     tabla.innerHTML += `
       <tr>
         <td>${data.nombre}</td>
         <td>${data.telefono}</td>
         <td>#${data.numero}</td>
       </tr>
     `;
   });

 });

}

</script>

</body>
</html>
